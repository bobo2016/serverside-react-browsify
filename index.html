<!DOCTYPE html>
<html>
<head>
	<title>React Demo</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
	<!--[if lte IE 8]>
	<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/grids-responsive-old-ie-min.css">
	<![endif]-->
	<!--[if gt IE 8]><!-->
	   	<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/grids-responsive-min.css">
	<!--<![endif]-->
	<link rel="stylesheet" href="staticontent/css/main.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/JSXTransformer.js"></script>
    <script src="https://cdn.jsdelivr.net/react/0.13.3/react-with-addons.js"></script>
  	<script src="https://cdnjs.cloudflare.com/ajax/libs/react-router/0.13.3/ReactRouter.min.js"></script>
	<script type="text/javascript">
		if (typeof window !== 'undefined') {
		    window.React = React;
		}
	</script>
</head>
<body>
	<div id="react-demo">
		<div id="main-content"></div>
		<div id="sub-content"></div>
		<div id="left-nav"></div>
	</div>
	<div id="react-demo2"></div>
	<script src="bundle.js"></script>
	<script src="staticontent/js/main.js"></script>

	<script type="text/jsx">
		var Router = ReactRouter; 
		var Route = ReactRouter.Route; 
		var RouteHandler = ReactRouter.RouteHandler;
		var Link = ReactRouter.Link;
		var StateMixin = ReactRouter.State;

		var Books = React.createClass({
		  render: function() {
		    return (
		      <ul>
		        <li key={1}><Link to="book" params={{id: 1}}>Live link</Link></li>
		        <li key={2}><Link to="book" params={{id: 2}}>Harry potter</Link></li>
		        <li key={3}><Link to="book" params={{id: 3}}>mission impossible</Link></li>
		        <RouteHandler />
		      </ul>
		    );
		  }
		});


		var Book = React.createClass({
		  mixins: [StateMixin],
		  
		  render: function() {
		    return (
		      <article>
		       <h1>this book id {this.getParams()['id']} s description</h1>
		      </article>
		    );
		  }
		});


		var Movies = React.createClass({
		  render: function() {
		    return (
		      <ul>
		        <li key={1}><Link to="movie" params={{id: 1}}>Movie1</Link></li>
		        <li key={2}><Link to="movie" params={{id: 2}}>Movie2</Link></li>
		        <li key={3}><Link to="movie" params={{id: 3}}>Movie3</Link></li>
		        <h1>Awesome h1</h1>
		      </ul>
		    );
		  }
		});

		var Sum = React.createClass({
		  render: function() {
		    return (
		     	<div>
		     		 <h1>Awesome Sum</h1>
		     	</div>
		    );
		  }
		});


		var Movie = React.createClass({
		  mixins: [StateMixin],
		  
		  render: function() {
		    return (
		      <article>
		       	<h1>this movie id {this.getParams().id} description details</h1>
		      </article>
		    );
		  }
		});


		var App = React.createClass({
		  render: function() {
		    return (
		      <div className="app">
		        <nav>
		          <a href="#"><Link to="movies">Movie</Link></a>
		          <a href="#"><Link to="books">Book</Link></a>
		        </nav>
		      </div>
		    );
		  }
		})

		var routes = (
		  <Route handler={App}>
		    <Route name="movies" handler={Movies} />
		    <Route name="movie" path="/movie/:id" handler={Movie} />
		    <Route name="books" handler={Books} />
		    <Route name="book" path="/book/:id" handler={Book} />
		  </Route>
		)

		var LeftMenu =  React.createClass({
			render: function(){
				return (
					<div className="left-menu pure-menu custom-restricted-width">
					    <span className="pure-menu-heading">Summary</span>

					    <ul className="pure-menu-list">
					        <li className="pure-menu-item"><a href="#" className="pure-menu-link">Daily Duty</a></li>
					        <li className="pure-menu-item"><a href="#" className="pure-menu-link">Project Process</a></li>
					        <li className="pure-menu-item"><Link to="summary" className="pure-menu-link">Vacation Summary</Link></li>
					        <li className="pure-menu-item"><a href="#" className="pure-menu-link">Other</a></li>
					    </ul>
					   <SummaryCtnr/>
					</div>
				)
			}
		})

		var navRoutes = (
			<Route handler = {LeftMenu}>
				<Route name = "summary" handler={Sum}/>
			</Route>
		)


		var SummaryCtnr = React.createClass({
			render:function(){
				return(
					 <section>
				          <RouteHandler />
				     </section>
				)
			}
		})


		/*var Sum =  React.createClass({
			render: function(){
				return(
					<div className="sum"> 
					  <h1>Summary</h1>
					</div>
				)
			}
		})
*/

		var reactDemo2 =  document.getElementById("react-demo2"),
			leftNav = document.getElementById("left-nav"),
			content = document.getElementById("main-content"),
			subContent = document.getElementById("sub-content");
/*
		Router.run(routes, Router.HashLocation, function(Root){
		  React.render(<Root />, reactDemo2);
		});*/

		Router.run(navRoutes, Router.HashLocation, function(Root){
		  React.render(<Root />, leftNav);
		});

		//React.render(<LeftMenu />, leftNav);


	</script>
</body>
</html>